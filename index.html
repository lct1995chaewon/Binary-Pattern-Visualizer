<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>N 位元二進值範圍 </title>
<style>
body{
  font-family:"Noto Sans TC","Segoe UI",sans-serif;
  background:#f6f9ff;
  margin:0;
  padding:30px 10px;
  display:flex;
  justify-content:center;
}
.container{
  background:#fff;
  border-radius:14px;
  box-shadow:0 6px 18px rgba(0,0,0,.1);
  padding:24px 26px;
  max-width:700px;
  text-align:center;
  width:100%;
}
h1{color:#3f51b5;margin:0 0 18px;}
.n-control{
  display:inline-flex;
  align-items:center;
  gap:10px;
  background:#eef1ff;
  border-radius:10px;
  padding:10px 16px;
  margin-bottom:12px;
}
.n-box{font-weight:bold;font-size:22px;width:60px;text-align:center;border:none;background:#fff;border-radius:6px;box-shadow:inset 0 0 0 2px #ccc;}
.btn{background:#3f51b5;color:#fff;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-weight:bold;line-height:0;}
.section{margin-top:16px;padding:14px 8px;border-radius:12px;}
#unsigned{background:#fff6d6;} 
#twos{background:#e8f3ff;}
label{font-size:16px;color:#555;margin-right:4px;}
.row{display:flex;justify-content:center;align-items:center;gap:10px;margin:6px 0;flex-wrap:wrap;}
input{font-family:"JetBrains Mono",monospace;font-size:18px;text-align:center;border:none;background:#fafbff;border-radius:5px;padding:5px 8px;min-width:140px;}
.value-blue{color:#1565c0;}
.value-red{color:#d32f2f;}
.weight-frame{
  margin-top:24px;
  border-top:2px solid #666;
  border-bottom:2px solid #666;
  display:grid;
  grid-auto-flow:column;
  grid-auto-columns:60px;
  justify-content:center;
  overflow-x:auto;
}
.column{
  border-left:1px solid #666;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:6px 0;
}
.column:last-child{border-right:1px solid #666;}
.weight{font-family:"JetBrains Mono",monospace;font-weight:600;}
.bit{font-family:"JetBrains Mono",monospace;font-size:14px;color:#555;margin-top:4px;}
.negative{color:#d32f2f;} .positive{color:#f9a825;}
footer{margin-top:20px;font-size:12px;color:#666;}
@media(max-width:540px){.weight-frame{grid-auto-columns:48px;}.weight{font-size:16px;}.bit{font-size:12px;}}
</style>
</head>
<body>
<div class="container">
  <h1>N 位元二進值範圍 (Unsigned & 2’s Complement)</h1>

  <div class="n-control">
    <span>位元 n =</span>
    <input id="bits" class="n-box" type="text" value="6" readonly>
    <div id="up" class="btn">▲</div>
    <div id="down" class="btn">▼</div>
  </div>

  <div id="unsigned" class="section">
    <h2>無號整數 (Unsigned)</h2>
    <div class="row">
      <label>最小值：</label>
      <input id="u-min-bin" readonly>
      <input id="u-min-dec" class="value-blue" readonly>
    </div>
    <div class="row">
      <label>最大值：</label>
      <input id="u-max-bin" readonly>
      <input id="u-max-dec" class="value-red" readonly>
    </div>
  </div>

  <div id="twos" class="section">
    <h2>二的補數 (2’s Complement)</h2>
    <div class="row">
      <label>最小值：</label>
      <input id="t-min-bin" readonly>
      <input id="t-min-dec" class="value-blue" readonly>
    </div>
    <div class="row">
      <label>最大值：</label>
      <input id="t-max-bin" readonly>
      <input id="t-max-dec" class="value-red" readonly>
    </div>
  </div>

  <div id="weights" class="weight-frame"></div>

  <footer>© 2025 Binary Pattern Visualizer | lct1995chaewon × GPT‑5 Chat</footer>
</div>

<script>
(function(){
  const bitsEl=document.getElementById("bits");
  const up=document.getElementById("up");
  const down=document.getElementById("down");
  const uMinBin=document.getElementById("u-min-bin");
  const uMinDec=document.getElementById("u-min-dec");
  const uMaxBin=document.getElementById("u-max-bin");
  const uMaxDec=document.getElementById("u-max-dec");
  const tMinBin=document.getElementById("t-min-bin");
  const tMinDec=document.getElementById("t-min-dec");
  const tMaxBin=document.getElementById("t-max-bin");
  const tMaxDec=document.getElementById("t-max-dec");
  const weights=document.getElementById("weights");

  let n=6;
  up.onclick=()=>{if(n<16){n++;update();}};
  down.onclick=()=>{if(n>1){n--;update();}};
  update();

  function update(){
    bitsEl.value=n;
    const uMax=Math.pow(2,n)-1;
    uMinBin.value="0".repeat(n);
    uMinDec.value="0";
    uMaxBin.value=uMax.toString(2).padStart(n,"0");
    uMaxDec.value=uMax;

    const tMin=-Math.pow(2,n-1);
    const tMax=Math.pow(2,n-1)-1;
    tMinBin.value=toTwos(tMin,n);
    tMinDec.value=tMin;
    tMaxBin.value=toTwos(tMax,n);
    tMaxDec.value=tMax;
    drawGrid();
  }

  function toTwos(val,bits){
    if(val>=0)return val.toString(2).padStart(bits,"0");
    const mod=Math.pow(2,bits);
    return (mod+val).toString(2).padStart(bits,"1");
  }

  function drawGrid(){
    weights.innerHTML="";
    for(let i=n-1;i>=0;i--){
      const div=document.createElement("div");
      div.className="column";
      const w=document.createElement("div");
      const v=(i===n-1)?-Math.pow(2,i):Math.pow(2,i);
      w.className="weight "+(i===n-1?"negative":"positive");
      w.textContent=v;
      const b=document.createElement("div");
      b.className="bit";
      b.textContent=(i+1)+"bit";
      div.appendChild(w);
      div.appendChild(b);
      weights.appendChild(div);
    }
  }
})();
</script>
</body>
</html>
